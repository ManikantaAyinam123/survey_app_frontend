{"ast":null,"code":"import axios from 'axios';\nimport API from \"../../API/API\";\nconst api = new API();\nconst all_voters = \"voters\";\nconst booth_names_url = \"voters/search_by_booth_name\";\nconst login = \"auth/login\";\nconst filter_casted_status = \"voters/filter_casted_status\";\n// const all_voters = \"http://localhost:3000/voters\";\nconst search_by_name = \"http://localhost:3000/voters/search_by_name\";\n// const filter_casted_status = \"http://localhost:3000/voters/filter_casted_status\";\nconst baseURL = 'http://localhost:3000/voters';\nconst consistency_names_url = \"http://localhost:3000/voters/search_by_constituency\";\n// const booth_names_url = \"http://localhost:3000/voters/search_by_booth_name\";\n\n// export const fetchAllVotersData = async (page,boothName) => {\n\n//    console.log(\"apinames in allvoters\",boothName)\n//   try {\n//     const response = await axios.get(`${all_voters}?booth_name=${boothName}&page=${page}`);\n//     const data = response.data;\n//     console.log(\"thisis api data\",data);\n//     return data;\n//   } catch (error) {\n//     console.error('Error fetching all voters data:', error);\n//     throw error;\n//   }\n// };\n\nexport const fetchAllVotersData = async (page, boothName) => {\n  console.log(\"apinames in allvoters\", boothName);\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await api.get(`${all_voters}?booth_name=${boothName}&page=${page}`);\n      console.log(\"all voters data api:\", result);\n      resolve(result);\n    } catch (error) {\n      console.error(\"Error in allvoters API call:\", error);\n      reject(error); // Ensure reject is called with the error\n    }\n  });\n};\nexport const filterByCastedStatusData = async (casted, page, boothName) => {\n  console.log(\"apinames in casted\", boothName);\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await api.get(`${filter_casted_status}?casted=${casted}&booth_name=${boothName}&page=${page}`);\n      console.log(\"all casted api:\", result);\n      resolve(result);\n    } catch (error) {\n      console.error(\"Error in allvoters API call:\", error);\n      reject(error); // Ensure reject is called with the error\n    }\n  });\n};\nexport const searchByNameData = async (name, boothName) => {\n  try {\n    console.log(\"from search api ============>\", name, boothName);\n    const response = await axios.get(`${search_by_name}?voter_name=${name}&booth_name=${boothName}`);\n    console.log(response.data);\n    const data = response.data;\n    console.log(\"Search by Name Data from API ===================>\", data);\n    return data;\n  } catch (error) {\n    console.error('Error searching by name:', error);\n    throw error;\n  }\n};\n\n// export const filterByCastedStatusData = async (casted, page, boothName) => {\n//   try {\n//     console.log(\"Filter by Casted Status Data from API +++++>\",casted, page, boothName );\n//     const response = await axios.get(`${filter_casted_status}?casted=${casted}&booth_name=${boothName}&page=${page}`);\n//     const data = response.data;\n//     console.log(\"Filter by Casted Status Data from API ////////////\", data);\n//     return data;\n//   } catch (error) {\n//     console.error('Error filtering by casted status:', error);\n//     throw error;\n//   }\n// };\n\nexport const updateVoter = async (id, updatedFields) => {\n  try {\n    const response = await axios.put(`http://localhost:3000/voters/${id}`, updatedFields);\n    console.log('Update voter response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error updating voter:', error);\n    throw error;\n  }\n};\nexport const fetchConsistencyNamesData = async name => {\n  console.log(\"in api\", name);\n  try {\n    const response = await axios.get(`${consistency_names_url}?constituency=${name}`);\n    const data = response.data;\n    console.log(\"api constituency\", data);\n    return data;\n  } catch (error) {\n    console.error('Error fetching consistency names data:', error);\n    throw error;\n  }\n};\n\n// export const fetchBoothNamesData = async (name) => {\n//   try {\n//     console.log(\"Fetching booth names for:\", name);\n//     const response = await axios.get(`${booth_names_url}?booth_name=${name}`);\n//     const data = response.data;\n//     console.log(\"Booth Names Data from API\", data);\n//     return data;\n//   } catch (error) {\n//     console.error('Error fetching booth names data:', error);\n//     throw error;\n//   }\n// };\nexport const fetchBoothNamesData = async name => {\n  console.log(\"boothnames data\", name);\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await api.get(`${booth_names_url}?booth_name=${name}`);\n      console.log(\"booth names data:\", result);\n      resolve(result);\n    } catch (error) {\n      console.error(\"Error in boothName API call:\", error);\n      reject(error); // Ensure reject is called with the error\n    }\n  });\n};\n\n// export const loginData = async(formdata) =>{\n//   try {\n//     console.log(\"formdata in api \",formdata)\n//     const response = await axios.post('http://localhost:3000/auth/login', formdata);\n\n//       const data = response.data;\n//       console.log(\"data getting from api in api file\",data)\n//     return data;\n//   } catch (error) {\n//     console.error('error fectching login data:', error);\n//     throw error;\n//   }\n// };\n\nexport const loginData = async formData => {\n  console.log(\"Starting login API call with formData:\", formData);\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await api.post(`${login}`, formData);\n      console.log(\"Login API response:\", result);\n      resolve(result); // Ensure resolve is called with the result\n    } catch (error) {\n      console.error(\"Error in login API call:\", error);\n      reject(error); // Ensure reject is called with the error\n    }\n  });\n};","map":{"version":3,"names":["axios","API","api","all_voters","booth_names_url","login","filter_casted_status","search_by_name","baseURL","consistency_names_url","fetchAllVotersData","page","boothName","console","log","Promise","resolve","reject","result","get","error","filterByCastedStatusData","casted","searchByNameData","name","response","data","updateVoter","id","updatedFields","put","fetchConsistencyNamesData","fetchBoothNamesData","loginData","formData","post"],"sources":["/home/actimize/Desktop/Manikanta_Work/github/survey_app_frontend/src/redux/api/getData.js"],"sourcesContent":["import axios from 'axios';\nimport API from \"../../API/API\";\nconst api = new API();\nconst all_voters = \"voters\";\nconst booth_names_url =\"voters/search_by_booth_name\"\n\nconst login = \"auth/login\";\nconst filter_casted_status = \"voters/filter_casted_status\";\n// const all_voters = \"http://localhost:3000/voters\";\nconst search_by_name = \"http://localhost:3000/voters/search_by_name\";\n// const filter_casted_status = \"http://localhost:3000/voters/filter_casted_status\";\nconst baseURL = 'http://localhost:3000/voters';\nconst consistency_names_url = \"http://localhost:3000/voters/search_by_constituency\";\n// const booth_names_url = \"http://localhost:3000/voters/search_by_booth_name\";\n\n// export const fetchAllVotersData = async (page,boothName) => {\n\n//    console.log(\"apinames in allvoters\",boothName)\n//   try {\n//     const response = await axios.get(`${all_voters}?booth_name=${boothName}&page=${page}`);\n//     const data = response.data;\n//     console.log(\"thisis api data\",data);\n//     return data;\n//   } catch (error) {\n//     console.error('Error fetching all voters data:', error);\n//     throw error;\n//   }\n// };\n\n\n\nexport const fetchAllVotersData = async (page,boothName) => {\n  console.log(\"apinames in allvoters\",boothName)\n  return new Promise(async (resolve, reject) => {\n    try {\n        const result = await api.get(`${all_voters}?booth_name=${boothName}&page=${page}`);\n      console.log(\"all voters data api:\", result);\n      resolve(result);  \n    } catch (error) {\n      console.error(\"Error in allvoters API call:\", error);\n      reject(error);  // Ensure reject is called with the error\n    }\n  });\n};\nexport const filterByCastedStatusData = async (casted, page, boothName) => {\n  console.log(\"apinames in casted\",boothName)\n  return new Promise(async (resolve, reject) => {\n    try {\n       const result = await api.get(`${filter_casted_status}?casted=${casted}&booth_name=${boothName}&page=${page}`);\n      console.log(\"all casted api:\", result);\n      resolve(result);  \n    } catch (error) {\n      console.error(\"Error in allvoters API call:\", error);\n      reject(error);  // Ensure reject is called with the error\n    }\n  });\n};\n\nexport const searchByNameData = async (name,boothName) => {\n  try {\n    console.log(\"from search api ============>\", name,boothName);\n    const response = await axios.get(`${search_by_name}?voter_name=${name}&booth_name=${boothName}`);\n    console.log(response.data);\n    const data = response.data;\n    console.log(\"Search by Name Data from API ===================>\", data);\n    return data;\n  } catch (error) {\n    console.error('Error searching by name:', error);\n    throw error;\n  }\n};\n\n// export const filterByCastedStatusData = async (casted, page, boothName) => {\n//   try {\n//     console.log(\"Filter by Casted Status Data from API +++++>\",casted, page, boothName );\n//     const response = await axios.get(`${filter_casted_status}?casted=${casted}&booth_name=${boothName}&page=${page}`);\n//     const data = response.data;\n//     console.log(\"Filter by Casted Status Data from API ////////////\", data);\n//     return data;\n//   } catch (error) {\n//     console.error('Error filtering by casted status:', error);\n//     throw error;\n//   }\n// };\n\nexport const updateVoter = async (id, updatedFields) => {\n\ntry {\n    const response = await axios.put(`http://localhost:3000/voters/${id}`, updatedFields);\n    console.log('Update voter response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error updating voter:', error);\n    throw error;\n  }\n};\n\nexport const fetchConsistencyNamesData = async (name) => {\n  console.log(\"in api\",name);\n  try {\n    const response = await axios.get(`${consistency_names_url}?constituency=${name}`);\n    const data = response.data;\n    console.log(\"api constituency\",data)\n    return data;\n  } catch (error) {\n    console.error('Error fetching consistency names data:', error);\n    throw error;\n  }\n};\n\n// export const fetchBoothNamesData = async (name) => {\n//   try {\n//     console.log(\"Fetching booth names for:\", name);\n//     const response = await axios.get(`${booth_names_url}?booth_name=${name}`);\n//     const data = response.data;\n//     console.log(\"Booth Names Data from API\", data);\n//     return data;\n//   } catch (error) {\n//     console.error('Error fetching booth names data:', error);\n//     throw error;\n//   }\n// };\nexport const fetchBoothNamesData = async (name) => {\n  console.log(\"boothnames data\",name)\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await api.get(`${booth_names_url}?booth_name=${name}`);\n      console.log(\"booth names data:\", result);\n      resolve(result);  \n    } catch (error) {\n      console.error(\"Error in boothName API call:\", error);\n      reject(error);  // Ensure reject is called with the error\n    }\n  });\n};\n\n// export const loginData = async(formdata) =>{\n//   try {\n//     console.log(\"formdata in api \",formdata)\n//     const response = await axios.post('http://localhost:3000/auth/login', formdata);\n\n//       const data = response.data;\n//       console.log(\"data getting from api in api file\",data)\n//     return data;\n//   } catch (error) {\n//     console.error('error fectching login data:', error);\n//     throw error;\n//   }\n// };\n\n\n\nexport const loginData = async (formData) => {\n  console.log(\"Starting login API call with formData:\", formData);\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await api.post(`${login}`, formData);\n      console.log(\"Login API response:\", result);\n      resolve(result);  // Ensure resolve is called with the result\n    } catch (error) {\n      console.error(\"Error in login API call:\", error);\n      reject(error);  // Ensure reject is called with the error\n    }\n  });\n};\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}